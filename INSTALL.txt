How to install bakery?
======================

You need two Drupal sites, e.g. example.com and sub.example.com.  It
is ideal if you can copy the user base of the main site to the slave
site or if sub.example.com is a new site.

Note that "localhost" will not work in most browsers. If you wish to
test Bakery SSO locally, you must set up a local domain for it to
work.

On both domains:

1) You edit settings.php and check that $cookie_domain is set to
   example.com.

2) You install bakery.module.


On example.com/admin/setting/bakery you chose

a) Master site: yes

b) Master site: http://example.com/

c) Allow local ... : yes

d) Freshness: the default is fine

e) Key: an alphanumeric string, longer is better

f) Cookie domain: example.com

On sub.example.com/admin/setting/bakery you chose

a) Master site: no

b) Master site: http://example.com/

c) Allow local ... : no

d) Freshness: the default is fine

e) Key: an alphanumeric string, longer is better (the same string as
       on example.com)

f) Cookie domain: example.com

Additional slave sites can be created like sub.example.com.

Caveats
=======

If you use bakery with OG, make sure that bakery has a lower weight than OG.

If you run suhosin or mod_security you may run into trouble.

